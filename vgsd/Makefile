VERSION ?= latest

# Currently, only unix executable are generated.
GOARGS = GOOS=linux GOARCH=amd64

default: build

version:
	@echo "// Generated by Makefile\n\npackage main\n\nvar Version = \"$(VERSION)\"\n" >./version_.go

# Build an executable for local test (Use only on linux system)
.PHONY: vgsd
build: version
	$(GOARGS) go build -o ./vgsd


